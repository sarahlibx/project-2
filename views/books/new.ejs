<!-- views/books/new.ejs -->
<!DOCTYPE html>
<html>
  <%- include("../partials/_head.ejs") %>
  <body>
    <%- include('../partials/_navbar.ejs') %>
    <h1>Add a New Book to Your Shelf</h1>

    <form action="/users/<%= user._id %>/books" method="POST">
      <label for="title">Title:</label>
      <input type="text" id="title" name="title" required />

      <label for="author">Author:</label>
      <input type="text" id="author" name="author" />

      <label for="status">Status:</label>
      <select id="status" name="status">
        <option value="Read">Read</option>
        <option value="In Progress">In Progress</option>
        <option value="Did Not Finish">Did Not Finish</option>
        <option value="To Be Read">To Be Read</option>
      </select>

      <label for="review">Review:</label>
      <textarea name="review" id="review"></textarea>

      <!-- Rating -->
      <label for="rating">Rating:</label>
      <fieldset class="rating">
        <% const ratingValue = (typeof book !== 'undefined' && book.rating) ?
        Number(book.rating) : null; for (let i = 5; i >=1; i--) { %> <input
        type="radio" id="star<%= i %>" name="rating" value="<%= i %>" <%=
        ratingValue === i ? 'checked' : '' %> />
        <label for="star<%= i %>" title="<%= i %> stars">â˜…</label>
        <% } %>
      </fieldset>

      <button type="submit">Add Book</button>
    </form>

    <p><a href="/users/<%= user._id %>/books">Back to Bookshelf</a></p>
  </body>
  <%- include("../partials/_footer.ejs") %>
</html>
